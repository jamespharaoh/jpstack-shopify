<record
	name="shopifyEventSubject"
	type="event">

	<fields>

		<!-- id -->

		<generated-id-field/>

		<!-- identity -->

		<parent-field
			name="account"
			type="shopifyAccount"/>

		<identity-enum-field
			name="subjectType"
			type="shopifyEventSubjectType"/>

		<identity-integer-field
			name="subjectId"/>

		<!-- state -->

		<yes-no-field
			name="deleted"/>

		<yes-no-field
			name="pending"/>

		<!-- statistics -->

		<timestamp-field
			name="firstEventTime"
			column-type="postgresql"
			nullable="yes"/>

		<timestamp-field
			name="lastEventTime"
			column-type="postgresql"
			nullable="yes"/>

		<integer-field
			name="numEvents"
			default="0"/>

		<timestamp-field
			name="lastProcessTime"
			column-type="postgresql"
			nullable="yes"/>

	</fields>

	<background-processes>

		<background-process
			object-type="shopify-event-subject"
			name="Process"
			description="Process shopify events"
			frequency="5 seconds"/>

	</background-processes>

</record>